version: "3.1"

intents:
  - greet
  - goodbye
  - ask_warranty
  - ask_price
  - check_order_status
  - search_product_by_criteria
  - inform_need
  - inform_product
  - inform
  - ask_product_detail
  - ask_tech_advice            # <--- THÊM MỚI: Hỏi tư vấn kỹ thuật (để gọi DeepSeek)

entities:
  - product_name
  - order_id
  - category
  - brand
  - target
  - price_range

slots:
  current_product:
    type: text
    mappings:
      - type: from_entity
        entity: product_name

  category:
    type: text
    mappings:
      - type: from_entity
        entity: category

  brand:
    type: text
    mappings:
      - type: from_entity
        entity: brand

  price_range:
    type: text
    mappings:
      - type: from_entity
        entity: price_range

  target:
    type: text
    mappings:
      - type: from_entity
        entity: target

forms:
  product_search_form:
    required_slots:
      - category
      - brand
      - price_range

responses:
  utter_greet:
  - text: "Chào bạn, tôi là trợ lý ảo LaptopShop. Tôi có thể giúp gì cho bạn?"

  utter_goodbye:
  - text: "Tạm biệt bạn! Rất vui được hỗ trợ."

  utter_ask_warranty:
  - text: "Tất cả sản phẩm mới trên website được bảo hành chính hãng 12 tháng ạ."

  utter_inform_need:
  - text: "Dạ, chúng tôi có rất nhiều sản phẩm. Bạn có thể cho tôi biết tên cụ thể sản phẩm bạn quan tâm không ạ?"

  utter_please_provide_product:
  - text: "Bạn vui lòng cho tôi biết bạn muốn hỏi giá của sản phẩm nào ạ?"

  utter_please_provide_order:
  - text: "Bạn vui lòng cung cấp mã đơn hàng (ví dụ: 12345) để tôi kiểm tra nhé."

  utter_ask_category:
  - text: "Bạn cần tìm loại sản phẩm nào? (Laptop, PC, Phụ kiện...)"

  utter_ask_brand:
  - text: "Bạn thích thương hiệu nào? (Dell, Asus, MacBook...)"

  utter_ask_price_range:
  - text: "Bạn dự kiến ngân sách khoảng bao nhiêu?"

  utter_search_results:
  - text: "Dưới đây là các sản phẩm phù hợp với yêu cầu của bạn:\n{search_results}"

  utter_no_results:
  - text: "Xin lỗi, tôi không tìm thấy sản phẩm nào phù hợp với tiêu chí này."

  utter_system_error:
  - text: "Xin lỗi, hệ thống đang bận hoặc gặp sự cố kết nối. Bạn vui lòng thử lại sau 1 phút nhé."

  utter_default:
  - text: "Xin lỗi, tôi chưa hiểu ý bạn. Bạn có thể diễn đạt lại không?"

actions:
  - action_get_price
  - action_get_order_status
  - action_search_product
  - action_submit_search_form
  - action_provide_product_detail
  - action_chat_with_llm        # Action gọi DeepSeek

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true